(function(t){function e(e){for(var n,i,u=e[0],o=e[1],c=e[2],d=0,f=[];d<u.length;d++)i=u[d],r[i]&&f.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,u=1;u<a.length;u++){var o=a[u];0!==r[o]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],o=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var l=o;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"03aa":function(t,e,a){"use strict";var n=a("97e8"),r=a.n(n);r.a},"201f":function(t,e,a){"use strict";var n=a("d134"),r=a.n(n);r.a},2711:function(t,e,a){},"32f1":function(t,e,a){},"3af2":function(t,e,a){},4285:function(t,e,a){"use strict";var n=a("aa78"),r=a.n(n);r.a},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i={name:"app"},u=i,o=(a("7768"),a("2877")),c=Object(o["a"])(u,r,s,!1,null,null,null);c.options.__file="App.vue";var l=c.exports,d=a("8323"),f=a.n(d),m=a("263c"),p=a.n(m),v=a("8c4f"),h=(a("96cf"),a("1da1")),b=a("be94"),_=a("2f62"),g=a("8aa5"),k=a.n(g),w={apiKey:"AIzaSyA3B26AekqhQIUyDYe1KuJZjIUbU8dgJwY",authDomain:"testtask-e8669.firebaseapp.com",databaseURL:"https://testtask-e8669.firebaseio.com",projectId:"testtask-e8669",storageBucket:"",messagingSenderId:"481022822477"};k.a.initializeApp(w);var D=k.a.database(),y=a("78b6");n["a"].use(_["a"]);var C=D.ref("/"),S={listData:[],listDataIsLoaded:!1},x=Object(b["a"])({setListData:function(t,e){return t.listData=e},setLoadStatus:function(t,e){return t.listDataIsLoaded=e}},y["firebaseMutations"]),O={setDataRef:Object(y["firebaseAction"])(function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e){var a,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.bindFirebaseRef,n=e.commit,e.state,t.next=3,a("listData",C);case 3:C.on("value",function(){n("setLoadStatus",!0)});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),unsetDataRef:Object(y["firebaseAction"])(function(t){var e=t.unbindFirebaseRef;e("listData",C)}),removeElement:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.child(a).remove();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),createElement:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.push(a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),updateElement:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,a){var n,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=a.id,r=a.element,t.next=3,C.child(n).set(r);case 3:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}(),getSpecificElement:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(e,a){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.child(a).once("value");case 2:return n=t.sent,t.abrupt("return",n.val());case 4:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()},R={listData:function(t){return t.listData},getListData:function(t){return t.listData},getStatusLoad:function(t){return t.listDataIsLoaded}},E=new _["a"].Store({state:S,mutations:x,actions:O,getters:R}),$=E,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-container uk-padding"},[a("div",{staticClass:"uk-flex uk-flex-between uk-flex-middle"},[a("h1",[t._v("Home page")]),a("button",{staticClass:"uk-button uk-button-primary",on:{click:function(e){t.addMode=!0}}},[t._v("Add row")]),a("div",{staticClass:"uk-search uk-search-default uk-background-default"},[a("span",{attrs:{"uk-search-icon":""}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"uk-search-input",attrs:{type:"search"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}})])]),a("div",{staticClass:"table-wrapper"},[a("Spinner",{staticClass:"uk-padding-small",attrs:{flag:t.dataIsLoaded}},[a("div",{staticClass:"currency uk-padding"},[t._v("\n          Totat currency: "+t._s(t.totalCurrency)+"\n      ")]),a("Table",{attrs:{data:t.searchData,columns:t.columnNames},on:{remove:t.removeData,updateElement:t.updateData}})],1)],1),a("AddDataRow",{attrs:{show:t.addMode},on:{close:function(e){t.addMode=!1},create:t.createData}})],1)},T=[],L=(a("6762"),a("2fdb"),a("6b54"),a("ac6a"),a("456d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table table--striped"},[a("div",{staticClass:"table__head"},[a("div",{staticClass:"table__row"},[t._l(t.columns,function(e,n){return a("div",{staticClass:"table__cell"},[t._v("\n          "+t._s(e.title)+"\n          "),a("div",{staticClass:"table__actions",on:{click:function(e){t.changeSortStatus(n)}}},[t.isSortStatus(t.constSortStatus.DECREASE,n)?a("span",{attrs:{"uk-icon":"arrow-down"}}):t._e(),t.isSortStatus(t.constSortStatus.GROWTH,n)?a("span",{attrs:{"uk-icon":"arrow-up"}}):t._e(),t.isSortStatus(t.constSortStatus.NOT_SORT,n)?a("span",[a("span",{staticClass:"uk-icon uk-icon-image"})]):t._e()])])}),a("div",{staticClass:"table__cell"},[t._v("\n          Actions\n        ")])],2)]),a("div",{staticClass:"table__body"},t._l(t.sortedData,function(e){return a("TableRow",{key:e.id,attrs:{item:e,columns:t.columns},on:{updateElement:t.updateData,remove:function(e){return t.$emit("remove",e)}}})})),t.data.length?t._e():a("div",{staticClass:"uk-text-muted uk-text-center uk-padding-small"},[t._v("\n      No content\n    ")])])])}),N=[],A=(a("55dd"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table__row"},[t._l(t.columns,function(e){var n=e.field;return a("div",{staticClass:"table__cell"},[a("input",{staticClass:"input-hidden uk-input",attrs:{name:n},domProps:{value:t.item[n]},on:{change:function(e){t.updateData(t.item[".key"])}}})])}),a("div",{staticClass:"table__cell"},[a("button",{staticClass:"uk-button-small uk-button-danger",on:{click:function(e){t.$emit("remove",t.item[".key"])}}},[t._v("Remove")]),a("button",{staticClass:"uk-button-small uk-button-default",on:{click:function(e){t.$router.push({name:"ElementDetails",params:{id:t.item[".key"]}})}}},[t._v("Details")])])],2)}),q=[],H=(a("7514"),a("5df3"),a("1c4c"),{status:"danger",timeout:4e3,pos:"top-right"}),P={status:"success",timeout:4e3,pos:"top-right"};function I(t){var e=t.message;f.a.notification(e,P)}function M(t){t.response&&t.response.data.errors?f.a.notification(t.response.data.errors.join(),H):t.response&&t.response.data.status_message?f.a.notification(t.response.data.status_message,H):t.request?f.a.notification(t.request,H):f.a.notification(t.message,H)}var F={props:["columns","item"],data:function(){return{}},methods:{updateData:function(t){var e=this.$el.querySelectorAll("input[name]");if(this.validation(e,this.columns)){var a=Array.from(e).reduce(function(t,e){var a=e.getAttribute("name"),n=e.value;return t[a]=n,t},{});this.$emit("updateElement",t,a)}else M({message:"Please check your input"})},validation:function(t,e){var a=!0;return t.forEach(function(t){var n=t.getAttribute("name"),r=e.find(function(t){return t.field===n}),s=r.validatorRules;s.test(t.value)?t.classList.remove("uk-form-danger"):(t.classList.add("uk-form-danger"),a=!1)}),a}}},G=F,Q=(a("af53"),Object(o["a"])(G,A,q,!1,null,null,null));Q.options.__file="TableRow.vue";var W=Q.exports,U={GROWTH:"GROWTH",DECREASE:"DECREASE",NOT_SORT:"NOT_SORT"},J={name:"Table",props:{data:Array,columns:Array},data:function(){return{sortStates:[],constSortStatus:U}},computed:{sortedData:function(){var t=this.data,e=this.sortStates,a=t;return e.forEach(function(t,e){var n=!1;t.status===U["GROWTH"]&&(n=!0),t.status===U["DECREASE"]&&(n=!1),t.status!==U["NOT_SORT"]&&B(a,t.field,n)}),a}},methods:{isSortStatus:function(t,e){return!!this.sortStates[e]&&this.sortStates[e].status===U[t]},changeSortStatus:function(t){var e=this.sortStates[t].status;this.sortStates.forEach(function(t){return t.status=U["NOT_SORT"]}),this.sortStates[t].status=e=e===U["GROWTH"]?U["DECREASE"]:U["GROWTH"]},updateData:function(t,e){this.$emit("updateElement",{id:t,element:e})}},created:function(){this.sortStates=this.columns.map(function(t){return{field:t.field,status:U["NOT_SORT"]}})},components:{TableRow:W}};function B(t,e,a){return t.sort(function(t,n){return a?z(t[e],n[e]):z(n[e],t[e])})}function z(t,e){return isNaN(t)||isNaN(t)?t.localeCompare(e):e-t}var K=J,V=(a("64ba"),Object(o["a"])(K,L,N,!1,null,"4414096a",null));V.options.__file="Table.vue";var Y=V.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.flag?t._e():a("div",{staticClass:"text"},[a("div",{attrs:{"uk-spinner":t.setting}}),a("small",[t._v(" "+t._s(t.inner))])]),t.flag?t._t("default"):t._e()],2)},X=[],tt={name:"Spinner",props:{flag:{required:!0,type:Boolean},inner:String,ratio:{default:1}},computed:{setting:function(){return"ratio: ".concat(this.ratio)}}},et=tt,at=(a("03aa"),Object(o["a"])(et,Z,X,!1,null,null,null));at.options.__file="Spinner.vue";var nt=at.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"add-table-row",attrs:{"uk-offcanvas":""}},[a("div",{staticClass:"uk-offcanvas-bar"},[a("button",{staticClass:"uk-offcanvas-close",attrs:{type:"button","uk-close":""}}),a("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label"},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newData.name,expression:"newData.name"}],staticClass:"uk-input",class:{"uk-form-danger":t.$v.newData.name.$error},attrs:{type:"text",placeholder:"Name"},domProps:{value:t.newData.name},on:{input:function(e){e.target.composing||t.$set(t.newData,"name",e.target.value)}}}),t.$v.newData.name.$error?a("span",{staticClass:"error-text"},[t._v("\n           This field is required and must have minimul 3 letters\n         ")]):t._e()]),a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label"},[t._v("Currency")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newData.currency,expression:"newData.currency"}],staticClass:"uk-input",class:{"uk-form-danger":t.$v.newData.currency.$error},attrs:{type:"text",placeholder:"Currency"},domProps:{value:t.newData.currency},on:{input:function(e){e.target.composing||t.$set(t.newData,"currency",e.target.value)}}}),t.$v.newData.currency.$error?a("span",{staticClass:"error-text"},[t._v("\n          This field is required and must be numeric\n        ")]):t._e()]),a("div",{staticClass:"uk-margin"},[a("label",{staticClass:"uk-form-label"},[t._v("Location")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newData.location,expression:"newData.location"}],staticClass:"uk-input",class:{"uk-form-danger":t.$v.newData.location.$error},attrs:{type:"text",placeholder:"Location"},domProps:{value:t.newData.location},on:{input:function(e){e.target.composing||t.$set(t.newData,"location",e.target.value)}}}),t.$v.newData.location.$error?a("span",{staticClass:"error-text"},[t._v("\n           This field is required and must have minimul 3 letters\n         ")]):t._e()]),t._m(0)])])])},st=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-flex uk-flex-center"},[a("button",{staticClass:"uk-button uk-button-primary"},[t._v("Create")])])}],it=a("1dce"),ut=a("b5ae"),ot={name:"AddDataRow",mixins:[it["validationMixin"]],props:["show"],mounted:function(){var t=this;f.a.util.on(this.$refs["add-table-row"],"beforehide",function(){return t.$emit("close")})},watch:{show:function(){var t=this.$refs["add-table-row"];this.show?f.a.offcanvas(t).show():f.a.offcanvas(t).hide()}},data:function(){return{newData:{name:"",currency:"",location:""}}},methods:{closeOffCanvas:function(){var t=this.$refs["add-table-row"];f.a.offcanvas(t).hide()},submitForm:function(){this.$v.newData.$touch(),this.$v.newData.$error||(this.closeOffCanvas(),this.$emit("create",this.newData))}},validations:{newData:{name:{required:ut["required"],minLength:Object(ut["minLength"])(3)},currency:{required:ut["required"],numeric:ut["numeric"],minValue:Object(ut["minValue"])(0)},location:{required:ut["required"],minLength:Object(ut["minLength"])(3)}}}},ct=ot,lt=(a("a2b5"),Object(o["a"])(ct,rt,st,!1,null,null,null));lt.options.__file="AddDataRow.vue";var dt=lt.exports,ft={name:"Home",data:function(){return{searchQuery:"",addMode:!1,columnNames:[{field:"name",title:"Name",validatorRules:/^.{3,}$/},{field:"currency",title:"Currency",validatorRules:/^\d+$/},{field:"location",title:"Location",validatorRules:/^.{3,}$/}]}},created:function(){this.setDataRef()},beforeDestroy:function(){this.unsetDataRef()},computed:Object(b["a"])({},Object(_["c"])({listData:"getListData",dataIsLoaded:"getStatusLoad"}),{totalCurrency:function(){return this.searchData.reduce(function(t,e){return t+parseInt(e.currency)||0},0)},searchData:function(){var t=this.searchQuery,e=this.listData;return e.filter(function(e){return Object.keys(e).some(function(a){var n=t.toLowerCase(),r=e[a].toString().toLowerCase();return r.includes(n)})})}}),methods:Object(b["a"])({},Object(_["b"])({setDataRef:"setDataRef",removeElement:"removeElement",updateElement:"updateElement",unsetDataRef:"unsetDataRef",createElement:"createElement"}),{updateData:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.updateElement.apply(this,e);case 2:I({message:"Updated !"});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),removeData:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.removeElement.apply(this,e);case 2:I({message:"Removed !"});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),createData:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.createElement.apply(this,e);case 2:I({message:"Created !"});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}),components:{Table:Y,Spinner:nt,AddDataRow:dt}},mt=ft,pt=(a("4285"),Object(o["a"])(mt,j,T,!1,null,null,null));pt.options.__file="Home.vue";var vt=pt.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-container"},[t._m(0),a("p",[t._v("Not Found")]),a("router-link",{staticClass:"uk-button uk-button-primary",attrs:{to:{name:"Home"}}},[t._v("Go to home page")])],1)},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",[t._v("40"),a("span",[t._v("4")])])}],_t={name:"NotFound"},gt=_t,kt=(a("ad96"),Object(o["a"])(gt,ht,bt,!1,null,"32cca448",null));kt.options.__file="NotFound.vue";var wt=kt.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uk-container"},[a("div",{staticClass:"uk-flex uk-flex-between uk-flex-middle"},[a("h1",[t._v("Details")]),a("router-link",{staticClass:"uk-button uk-button-primary",attrs:{to:{name:"Home"}}},[t._v("Home page")])],1),a("div",{staticClass:"uk-background-default uk-padding"},[a("div",{staticClass:"uk-flex uk-flex-middle uk-width-large uk-child-width-1-1"},[a("div",[t._v("Name:")]),a("div",[t._v(t._s(t.info.name))])]),a("hr"),a("div",{staticClass:"uk-flex uk-flex-middle uk-width-large uk-child-width-1-1"},[a("div",[t._v("Currency:")]),a("div",[t._v(t._s(t.info.currency))])]),a("hr"),a("div",{staticClass:"uk-flex uk-flex-middle uk-width-large uk-child-width-1-1"},[a("div",[t._v("Location:")]),a("div",[t._v(t._s(t.info.location))])])])])},yt=[],Ct=(a("f751"),{name:"ElementDetails",props:["id"],data:function(){return{info:{}}},created:function(){var t=Object(h["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getSpecificElement(this.id);case 2:e=t.sent,this.info=Object.assign({},this.info,e);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:Object(b["a"])({},Object(_["b"])({getSpecificElement:"getSpecificElement"}))}),St=Ct,xt=(a("201f"),Object(o["a"])(St,Dt,yt,!1,null,null,null));xt.options.__file="ElementDetails.vue";var Ot=xt.exports;n["a"].use(v["a"]);var Rt=[{path:"/",name:"Home",component:vt,props:!0},{path:"/:id(\\d+)",name:"ElementDetails",component:Ot,props:!0},{path:"*",name:"NotFound",component:wt}],Et=new v["a"]({mode:"history",routes:Rt}),$t=Et;f.a.use(p.a),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(l)},router:$t,store:$}).$mount("#app")},"64ba":function(t,e,a){"use strict";var n=a("7c77"),r=a.n(n);r.a},7768:function(t,e,a){"use strict";var n=a("2711"),r=a.n(n);r.a},"7c77":function(t,e,a){},"97e8":function(t,e,a){},a1e0:function(t,e,a){},a2b5:function(t,e,a){"use strict";var n=a("32f1"),r=a.n(n);r.a},aa78:function(t,e,a){},ad96:function(t,e,a){"use strict";var n=a("a1e0"),r=a.n(n);r.a},af53:function(t,e,a){"use strict";var n=a("3af2"),r=a.n(n);r.a},d134:function(t,e,a){}});
//# sourceMappingURL=app.adf45cf3.js.map